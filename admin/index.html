<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin panel ‚Äî –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</title>
  <link rel="stylesheet" href="/admin/styles.css">
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <h1 class="sidebar-title">Admin panel</h1>
      <nav class="sidebar-nav">
        <a href="#" class="nav-item nav-item--active">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>
      </nav>
      <div class="sidebar-footer">
        <label class="admin-key-label">
          Admin key (–µ—Å–ª–∏ –∑–∞–¥–∞–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ):
          <input type="password" id="adminKey" class="admin-key-input" placeholder="X-Admin-Key" autocomplete="off">
        </label>
      </div>
    </aside>
    <main class="main">
      <h2 class="page-title">–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>
      <div class="blocks">
        <section class="block block--telegram" id="blockTelegram">
          <h3 class="block-title">–¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç</h3>
          <div class="status-bar" id="telegramStatusBar" data-status="not_configured">
            <span class="status-text" id="telegramStatusText">Not configured</span>
            <button type="button" class="btn btn-secondary" id="telegramRetry">Retry</button>
          </div>
          <div class="form">
            <label class="field">
              <span class="field-label">Access Token *</span>
              <input type="password" id="telegramToken" class="field-input" placeholder="–¢–æ–∫–µ–Ω –±–æ—Ç–∞">
              <span class="field-error" id="telegramFieldError" role="alert"></span>
            </label>
            <div class="active-token" id="telegramActiveToken" hidden>
              <span class="active-token-label">–ê–∫—Ç–∏–≤–Ω—ã–π —Ç–æ–∫–µ–Ω</span>
              <span class="active-token-value" id="telegramActiveTokenValue"></span>
              <button type="button" class="btn btn-link btn-link--danger" id="telegramTokenDelete">Delete</button>
            </div>
            <label class="field">
              <span class="field-label">Base URL</span>
              <input type="text" id="telegramBaseUrl" class="field-input" placeholder="https://api.telegram.org">
              <span class="field-hint">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: https://api.telegram.org</span>
            </label>
            <div class="form-actions">
              <button type="button" class="btn btn-primary" id="telegramSave">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
              <button type="button" class="btn btn-outline" id="telegramClear">–£–¥–∞–ª–∏—Ç—å –∫–ª—é—á–∏</button>
            </div>
          </div>
        </section>
        <section class="block block--service-admins" id="blockServiceAdmins">
          <h3 class="block-title">–ê–¥–º–∏–Ω—ã —Å–µ—Ä–≤–∏—Å–∞</h3>
          <div id="serviceAdminsList" class="service-admins-list">
            <p class="block-placeholder" id="serviceAdminsPlaceholder">–ù–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤</p>
          </div>
          <div class="form">
            <label class="field">
              <span class="field-label">–í–≤–µ–¥–∏—Ç–µ Telegram ID</span>
              <input type="text" id="serviceAdminTelegramId" class="field-input" placeholder="365491351" inputmode="numeric" pattern="[0-9]*" autocomplete="off">
              <span class="field-error" id="serviceAdminFieldError" role="alert"></span>
            </label>
            <div class="form-actions">
              <button type="button" class="btn btn-primary" id="serviceAdminAdd">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
          </div>
        </section>
        <section class="block block--llm" id="blockLlm">
          <h3 class="block-title">LLM</h3>
          <div class="status-bar" id="llmStatusBar" data-status="not_configured">
            <span class="status-text" id="llmStatusText">Not configured</span>
            <button type="button" class="btn btn-secondary" id="llmRetry">Retry</button>
          </div>
          <div class="form">
            <label class="field">
              <span class="field-label">LLM type *</span>
              <select id="llmType" class="field-input field-select" aria-required="true">
                <option value="">‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ ‚Äî</option>
              </select>
              <span class="field-error" id="llmFieldError" role="alert"></span>
            </label>
            <label class="field">
              <span class="field-label">API key *</span>
              <input type="password" id="llmApiKey" class="field-input" placeholder="–ö–ª—é—á API" autocomplete="off">
              <span class="field-hint">–î–ª—è Ollama –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º.</span>
            </label>
            <div class="active-token" id="llmActiveToken" hidden>
              <span class="active-token-label">–ê–∫—Ç–∏–≤–Ω—ã–π —Ç–æ–∫–µ–Ω</span>
              <span class="active-token-value" id="llmActiveTokenValue"></span>
              <button type="button" class="btn btn-link btn-link--danger" id="llmTokenDelete">Delete</button>
            </div>
            <label class="field">
              <span class="field-label">Base URL</span>
              <input type="text" id="llmBaseUrl" class="field-input" placeholder="URL API –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞">
              <span class="field-hint" id="llmBaseUrlHint"></span>
            </label>
            <label class="field">
              <span class="field-label">Model type *</span>
              <div class="field-model-row">
                <select id="llmModel" class="field-input field-select" aria-required="true">
                  <option value="">‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å ‚Äî</option>
                </select>
              </div>
              <input type="text" id="llmModelCustom" class="field-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: gpt-4o" style="display: none;" aria-label="–ú–æ–¥–µ–ª—å (Custom)">
              <span class="field-hint field-hint--tooltip" id="llmModelHint" title="Reasoning-–º–æ–¥–µ–ª–∏ (üß†) –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π.">üß† Reasoning-–º–æ–¥–µ–ª–∏ ‚Äî –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π.</span>
              <span class="field-error" id="llmFetchModelsError" role="alert"></span>
            </label>
            <div id="llmAzureFields" class="llm-azure-fields" hidden>
              <label class="field">
                <span class="field-label">Azure Endpoint</span>
                <input type="text" id="llmAzureEndpoint" class="field-input" placeholder="https://your-resource.openai.azure.com/">
                <span class="field-hint">URL —Ä–µ—Å—É—Ä—Å–∞ Azure OpenAI (–±–µ–∑ –ø—É—Ç–∏ –∫ API).</span>
              </label>
              <label class="field">
                <span class="field-label">API Version</span>
                <input type="text" id="llmAzureApiVersion" class="field-input" placeholder="2024-02-15-preview">
              </label>
            </div>
            <label class="field">
              <span class="field-label">System prompt (optional)</span>
              <textarea id="llmSystemPrompt" class="field-input field-textarea" rows="3" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –º–æ–¥–µ–ª–∏..."></textarea>
            </label>
            <div class="form-actions">
              <button type="button" class="btn btn-primary" id="llmSave">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
              <button type="button" class="btn btn-outline" id="llmClear">–£–¥–∞–ª–∏—Ç—å –∫–ª—é—á–∏</button>
            </div>
          </div>
        </section>
      </div>
    </main>
  </div>
  <div id="toastContainer" class="toast-container" aria-live="polite"></div>
  <div id="confirmModalOverlay" class="modal-overlay" hidden role="dialog" aria-modal="true" aria-labelledby="confirmModalTitle">
    <div class="modal" id="confirmModal">
      <h4 class="modal-title" id="confirmModalTitle">–û—Ç–≤—è–∑–∞—Ç—å —Ç–æ–∫–µ–Ω?</h4>
      <p class="modal-text" id="confirmModalText"></p>
      <div class="modal-actions">
        <button type="button" class="btn btn-secondary" id="confirmModalCancel">–û—Ç–º–µ–Ω–∞</button>
        <button type="button" class="btn btn-outline" id="confirmModalConfirm">–£–¥–∞–ª–∏—Ç—å</button>
      </div>
    </div>
  </div>
  <script src="/admin/app.js"></script>
</body>
</html>
