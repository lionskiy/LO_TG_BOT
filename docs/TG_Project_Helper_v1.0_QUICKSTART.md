# TG Project Helper v1.0 ‚Äî –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** –§–µ–≤—Ä–∞–ª—å 2026  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –±—ã—Å—Ç—Ä–æ–º—É –∑–∞–ø—É—Å–∫—É –∏ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã.

> üìñ **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [TG_Project_Helper_v1.0.md](TG_Project_Helper_v1.0.md)

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
git clone <repo_url>
cd LO_TG_BOT
python -m venv .venv
source .venv/bin/activate   # Windows: .venv\Scripts\activate
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π `.env` –∏ —É–∫–∞–∂–∏:
- `BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –∏–∑ [@BotFather](https://t.me/BotFather)
- `OPENAI_API_KEY` ‚Äî –∫–ª—é—á OpenAI (–∏–ª–∏ –¥—Ä—É–≥–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä)

### 3. –ó–∞–ø—É—Å–∫

**–†–µ–∂–∏–º ¬´—Ç–æ–ª—å–∫–æ –±–æ—Ç¬ª (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ .env):**
```bash
python main.py
```

**–†–µ–∂–∏–º API + –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –ë–î):**
```bash
# –í .env –¥–æ–±–∞–≤—å SETTINGS_ENCRYPTION_KEY (–∏–ª–∏ –æ—Å—Ç–∞–≤—å –ø—É—Å—Ç—ã–º ‚Äî —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
uvicorn api.app:app --host 0.0.0.0 --port 8000
```

–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: **http://localhost:8000/admin/**

**Docker:**
```bash
docker compose up --build
```

–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: **http://localhost:8000/admin/**

---

## FAQ

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–∞—è –º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–æ—Ç–æ–º?

**–ß–µ—Ä–µ–∑ API:**
```bash
curl http://localhost:8000/api/settings | python3 -m json.tool
```

**–ß–µ—Ä–µ–∑ Docker:**
```bash
docker compose exec bot python3 -c "
import sys
sys.path.insert(0, '.')
from api.settings_repository import get_llm_settings_decrypted
settings = get_llm_settings_decrypted()
if settings:
    print(f'–ú–æ–¥–µ–ª—å: {settings.get(\"model_type\")}')
    print(f'–ü—Ä–æ–≤–∞–π–¥–µ—Ä: {settings.get(\"llm_type\")}')
"
```

### –ü–æ—á–µ–º—É –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç, —á—Ç–æ –æ–Ω GPT-3.5, —Ö–æ—Ç—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —É–∫–∞–∑–∞–Ω–∞ –¥—Ä—É–≥–∞—è –º–æ–¥–µ–ª—å?

–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑-–∑–∞ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞. –ú–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è —Å–≤–æ–µ–≥–æ –ø–µ—Ä–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ. –ü–æ–ø—Ä–æ–±—É–π:
1. –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞ —Å –±–æ—Ç–æ–º
2. –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –∑–∞–Ω–æ–≤–æ

–ü—Ä–æ–≤–µ—Ä—å —Ä–µ–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å —á–µ—Ä–µ–∑ API (—Å–º. –≤—ã—à–µ) ‚Äî –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º.

### –û—à–∏–±–∫–∞ "–ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ –º–æ–¥–µ–ª–∏" –ø—Ä–∏ –≤—ã–±–æ—Ä–µ GPT-5

**–ü—Ä–∏—á–∏–Ω—ã:**
1. **–¢–∞—Ä–∏—Ñ OpenAI Free** ‚Äî GPT-5 –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º —Ç–∞—Ä–∏—Ñ–µ
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è –º–æ–¥–µ–ª–∏** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π –∏–∑ –∫–Ω–æ–ø–∫–∏ "–ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π" –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
3. **–õ–∏–º–∏—Ç—ã** ‚Äî –ø—Ä–æ–≤–µ—Ä—å [Account limits](https://platform.openai.com/account/limits)

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å —Ç–∞—Ä–∏—Ñ: [https://platform.openai.com/account/limits](https://platform.openai.com/account/limits)
2. –ï—Å–ª–∏ Free ‚Äî –ø–æ–ø–æ–ª–Ω–∏ –±–∞–ª–∞–Ω—Å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ GPT-5
3. –í –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –Ω–∞–∂–º–∏ "–ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π" –∏ –≤—ã–±–µ—Ä–∏ –º–æ–¥–µ–ª—å –∏–∑ —Å–ø–∏—Å–∫–∞

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è?

**–í Docker:**  
–ö–ª—é—á —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –≤ `data/.encryption_key` –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏. –ù–∏—á–µ–≥–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.

**–õ–æ–∫–∞–ª—å–Ω–æ (–±–µ–∑ Docker):**  
–õ–∏–±–æ –æ—Å—Ç–∞–≤—å `SETTINGS_ENCRYPTION_KEY` –ø—É—Å—Ç—ã–º ‚Äî –∫–ª—é—á —Å–æ–∑–¥–∞—Å—Ç—Å—è –≤ `data/.encryption_key`. –õ–∏–±–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π –≤—Ä—É—á–Ω—É—é:

```bash
source .venv/bin/activate
python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
```

–î–æ–±–∞–≤—å –≤—ã–≤–æ–¥ –≤ `.env`: `SETTINGS_ENCRYPTION_KEY=<–∫–ª—é—á>`

**–í–∞–∂–Ω–æ:** –Ω–µ —Ç–µ—Ä—è–π –∫–ª—é—á –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ –ë–î ‚Äî –∏–Ω–∞—á–µ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –∏—Ö –±—É–¥–µ—Ç –Ω–µ–ª—å–∑—è.

### –ö–∞–∫ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –º–æ–¥–µ–ª—å –∏–ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞?

1. –û—Ç–∫—Ä–æ–π –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: **http://localhost:8000/admin/**
2. –í –±–ª–æ–∫–µ "LLM" –≤—ã–±–µ—Ä–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏ –º–æ–¥–µ–ª—å
3. –ù–∞–∂–º–∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
4. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç "–Ω–∞ –ª–µ—Ç—É" –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### –ö–∞–∫–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è?

- OpenAI (gpt-4o, gpt-5, o3, o4 –∏ –¥—Ä.)
- Anthropic (Claude)
- Google Gemini
- Groq
- OpenRouter
- Ollama (–ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏)
- Azure OpenAI
- Yandex GPT
- Perplexity
- xAI (Grok)
- DeepSeek
- Custom (OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π)

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å Telegram/LLM?

**–í –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏:**
- –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É "Retry" –≤ –±–ª–æ–∫–µ Telegram –∏–ª–∏ LLM
- –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥

**–ß–µ—Ä–µ–∑ API:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram
curl -X POST http://localhost:8000/api/settings/telegram/test \
  -H "X-Admin-Key: YOUR_ADMIN_API_KEY"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ LLM
curl -X POST http://localhost:8000/api/settings/llm/test \
  -H "X-Admin-Key: YOUR_ADMIN_API_KEY"
```

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å–µ—Ä–≤–∏—Å–∞?

**–ß–µ—Ä–µ–∑ API:**
```bash
curl -X POST http://localhost:8000/api/service-admins \
  -H "Content-Type: application/json" \
  -H "X-Admin-Key: YOUR_ADMIN_API_KEY" \
  -d '{"telegram_id": 123456789}'
```

**–ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:**  
–†–∞–∑–¥–µ–ª ¬´–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã¬ª –≤ –∞–¥–º–∏–Ω–∫–µ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –≤ –§–∞–∑–µ 5 (—Å–º. [PLAN_PHASE_5.md](PLAN_PHASE_5.md)). –ü–æ–∫–∞ ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ API –∏–ª–∏ Swagger (http://localhost:8000/docs).

### –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏?

- **–†–µ–∂–∏–º ¬´—Ç–æ–ª—å–∫–æ –±–æ—Ç¬ª:** –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env`
- **–†–µ–∂–∏–º API + –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:** –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ SQLite –ë–î (`data/settings.db`)
  - –¢–æ–∫–µ–Ω—ã –∏ API-–∫–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ
  - –ö–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –≤ `data/.encryption_key` –∏–ª–∏ –≤ `.env` (`SETTINGS_ENCRYPTION_KEY`)

### –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏?

**–õ–æ–∫–∞–ª—å–Ω–æ:**
```bash
# –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ uvicorn –∏–ª–∏ python main.py
# –ò–ª–∏ –≤ —Ñ–∞–π–ª–µ, –µ—Å–ª–∏ –∑–∞–¥–∞–Ω LOG_FILE –≤ .env
```

**Docker:**
```bash
docker compose logs bot
docker compose logs -f bot  # —Å follow
```

### –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã?

**–õ–æ–∫–∞–ª—å–Ω–æ:**
```bash
pytest tests/ -v
```

**Docker:**
```bash
docker compose run --rm bot pytest tests/ -v
```

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [TG_Project_Helper_v1.0.md](TG_Project_Helper_v1.0.md)
- **OpenAI Account Limits:** [https://platform.openai.com/account/limits](https://platform.openai.com/account/limits)
- **OpenAI Usage:** [https://platform.openai.com/usage](https://platform.openai.com/usage)
- **Telegram BotFather:** [@BotFather](https://t.me/BotFather)
- **Swagger UI (–ø—Ä–∏ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏):** http://localhost:8000/docs

---

## –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞

| –í–µ—Ä—Å–∏—è | –î–∞—Ç–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|----------|
| 1.0 | 2026-02-06 | –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ |
